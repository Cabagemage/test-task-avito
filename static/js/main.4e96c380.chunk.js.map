{"version":3,"sources":["components/Header/Header.js","components/Card/Card.js","components/Cards/Cards.js","components/Footer/Footer.js","components/Modal/PopupWithForm.js","components/Modal/PopupImage.js","components/Preloader/Preloader.js","utils/api/api.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","Card","card","cardUrl","handleCardClick","setModalOpen","onClick","src","Cards","cards","setModalClose","map","i","url","id","Footer","PopupWithForm","isOpen","isClose","name","onSubmit","btnClassName","form","children","title","buttonText","closeToOverlay","noValidate","type","ImagePopup","modalCard","placeholder","disabled","comments","el","date","Date","toLocaleDateString","text","Preloader","ImagesApp","baseUrl","headers","key","this","res","ok","json","Promise","reject","status","a","fetch","Accept","Authorization","then","checkStatus","imageId","body","JSON","stringify","App","useState","setOpen","selectedCard","setSelectedCard","setCards","preloader","setPreloader","setModalCard","useEffect","getCards","getAllCards","console","log","fetchCards","getCard","getThisCard","PopupImage","e","target","currentTarget","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e96c380.chunk.js","sourcesContent":["import \"./styles/header.css\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <h1 className=\"header__title\">TEST APP</h1>\n    </header>\n  );\n}\n\nexport default Header;\n","import \"./styles/card.css\";\n\nfunction Card({ card, cardUrl, setModalOpen, handleCardClick }) {\n  // openModal={setModalOpen} closeModal={setModalClose}\n  function handleClick() {\n    handleCardClick(card);\n  }\n  return (\n    <>\n      <img onClick={handleClick} className=\"card\" src={cardUrl}></img>\n    </>\n  );\n}\n\nexport default Card;\n","import \"./styles/cards.css\";\nimport Card from \"../Card/Card\";\nfunction Cards({ cards, setModalOpen, setModalClose, handleCardClick }) {\n  return (\n    <div className=\"cards\">\n      {cards.map((card, i) => (\n        <Card\n          card={card}\n          cardUrl={card.url}\n          handleCardClick={handleCardClick}\n          id={card.id}\n          setModalOpen={setModalOpen}\n          setModalClose={setModalClose}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default Cards;\n","import \"./styles/footer.css\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h2 className=\"footer__copyright\">© 2018-2019</h2>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\r\nimport \"../../App.css\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  isClose,\r\n  onSubmit,\r\n  btnClassName,\r\n  name,\r\n  form,\r\n  title,\r\n  buttonText,\r\n  children,\r\n  closeToOverlay,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`popup ${isOpen && \"popup_opened\"}   popup_function_${name}  `}\r\n      onClick={closeToOverlay}\r\n    >\r\n      <form noValidate className={`popup__form popup__form_function_${form}`}>\r\n        <div id=\"form\" className=\"popup__container\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={isClose}\r\n            className={`popup__close popup_close_${name}`}\r\n          ></button>\r\n          {children}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport \"./styles/imagepopup.css\";\r\n\r\nconst ImagePopup = ({ modalCard, isOpen, isClose, closeToOverlay }) => {\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      isClose={isClose}\r\n      closeToOverlay={closeToOverlay}\r\n      children={\r\n        <>\r\n          <div className=\"imagePopup\">\r\n            <div className=\"imagePopup__imageArea\">\r\n              <img className=\"imagePopup__image\" src={modalCard.url}></img>\r\n              <div className=\"popup__inputs\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"text\"\r\n                  className=\"popup__input popup__input_type_link\"\r\n                  placeholder=\"Ваше имя\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"popup__input popup__input_type_link\"\r\n                  placeholder=\"Ваш комментарий\"\r\n                />\r\n                <button disabled className=\"button\">\r\n                  Оставить комментарий\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"comments\">\r\n              {modalCard.comments\r\n                ? modalCard.comments.map((el, i) => (\r\n                    <div className=\"comment\">\r\n                      <h4 className=\"comment__title\">\r\n                        {el.date\r\n                          ? new Date(el.date).toLocaleDateString()\r\n                          : null}\r\n                      </h4>\r\n                      <p className=\"comment__subtitle\">{el.text}</p>\r\n                    </div>\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ImagePopup;\r\n","import React  from \"react\";\r\nimport  \"./preloader/preloader.css\";\r\n\r\n\r\nfunction Preloader(){\r\n  return (\r\n      <div className=\"circle-preloader\"/>\r\n  )\r\n}\r\n\r\nexport default Preloader;\r\n","class imagesApi {\n  constructor({ baseUrl, headers, key }) {\n    this.baseUrl = baseUrl;\n  }\n  //  Проверка на статус ответа с сервера\n  checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  // Получение массива карточек с сервера\n  async getCards() {\n    return await fetch(this.baseUrl, {\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${this.key}`,\n      },\n    }).then(this.checkStatus);\n  }\n  async getCard(imageId) {\n    return await fetch(`${this.baseUrl}/${imageId}`, {\n      headers: {\n        Accept: \"application/json\",\n      },\n    }).then(this.checkStatus);\n  }\n  async postComment(imageId, name, text) {\n    return await fetch(`${this.baseUrl}/${imageId}/comments`, {\n      headers: {\n        Accept: \"application/json\",\n        body: JSON.stringify({\n          name: name,\n          text: text,\n        })\n      },\n    }).then(this.checkStatus);\n  }\n}\nexport const ImagesApp = new imagesApi({\n  baseUrl: \" https://boiling-refuge-66454.herokuapp.com/images\",\n});\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport Cards from \"./components/Cards/Cards\";\nimport Footer from \"./components/Footer/Footer\";\nimport PopupImage from \"./components/Modal/PopupImage\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport { ImagesApp } from \"./utils/api/api\";\nfunction App() {\n  const [isOpen, setOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cards, setCards] = useState([]);\n  const [preloader, setPreloader] = useState(false);\n  const [modalCard, setModalCard] = useState({});\n  useEffect(() => {\n    async function fetchCards() {\n      try {\n        setPreloader(true);\n        const getAllCards = await ImagesApp.getCards();\n        setCards(getAllCards);\n      } catch (e) {\n        console.log(e);\n      } finally {\n        setPreloader(false);\n      }\n    }\n    fetchCards();\n  }, []);\n\n  function setModalOpen() {\n    setOpen(true);\n  }\n  function setModalClose() {\n    setOpen(false);\n  }\n  const handleOverlayClose = (e) => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    setModalClose();\n  };\n\n  const handleCardClick = async (card) => {\n    setSelectedCard(card);\n    try {\n      setPreloader(true);\n      const getThisCard = await ImagesApp.getCard(card.id);\n      console.log(getThisCard);\n      setModalCard(getThisCard);\n      setModalOpen();\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setPreloader(false);\n    }\n  };\n  return (\n    <div className=\"App\">\n      <Header />\n      <Cards\n        handleCardClick={handleCardClick}\n        cards={cards}\n        setModalOpen={setModalOpen}\n        setModalClose={setModalClose}\n      ></Cards>\n      <Footer />\n      {preloader ? (\n        <Preloader />\n      ) : (\n        <PopupImage\n          card={selectedCard}\n          modalCard={modalCard}\n          isOpen={isOpen}\n          isClose={setModalClose}\n          closeToOverlay={handleOverlayClose}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}